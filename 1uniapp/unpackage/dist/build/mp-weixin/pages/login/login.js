(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"2aaf":function(t,n,e){"use strict";var i=e("88f2"),o=e.n(i);o.a},4327:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return u})),e.d(n,"a",(function(){return i}));var i={tuiButton:function(){return e.e("components/thorui/tui-button/tui-button").then(e.bind(null,"7133"))},tuiListCell:function(){return e.e("components/thorui/tui-list-cell/tui-list-cell").then(e.bind(null,"d016"))},tuiIcon:function(){return e.e("components/thorui/tui-icon/tui-icon").then(e.bind(null,"5d29"))},tuiBottomPopup:function(){return e.e("components/thorui/tui-bottom-popup/tui-bottom-popup").then(e.bind(null,"0f10"))}},o=function(){var t=this,n=t.$createElement;t._self._c;t._isMounted||(t.e0=function(n){t.is_wxLogin=!1},t.e1=function(n){return t.$Router.push({name:"login_forget"})},t.e2=function(n){return t.$Router.push({name:"login_register"})},t.e3=function(n){t.is_wxLogin=!0})},u=[]},"4fe5":function(t,n,e){"use strict";e.r(n);var i=e("a714"),o=e.n(i);for(var u in i)"default"!==u&&function(t){e.d(n,t,(function(){return i[t]}))}(u);n["default"]=o.a},"7d0b":function(t,n,e){"use strict";e.r(n);var i=e("4327"),o=e("4fe5");for(var u in o)"default"!==u&&function(t){e.d(n,t,(function(){return o[t]}))}(u);e("2aaf");var r,c=e("f0c5"),s=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);n["default"]=s.exports},"7d0f":function(t,n,e){"use strict";(function(t){e("57ba");i(e("66fd"));var n=i(e("7d0b"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"88f2":function(t,n,e){},a714:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("2f62");function o(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function u(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?o(Object(e),!0).forEach((function(n){r(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var c={computed:{disabled:function(){var t=!0;return this.mobile&&this.pwd&&(t=!1),t}},data:function(){return{mobile:"",pwd:"",is_wxLogin:!0,popupShow:!1}},onLoad:function(t){this.threeLogin()},onShow:function(){this.$store.getters.hasLogin&&this.$Router.back()},methods:u(u({},(0,i.mapMutations)(["login","logout"])),{},{back:function(){t.navigateBack()},inputMobile:function(t){this.mobile=t.detail.value},inputPwd:function(t){this.pwd=t.detail.value},clearInput:function(t){1==t?this.mobile="":this.pwd=""},showOtherLogin:function(){this.popupShow=!0},threeLogin:function(){var n=this;t.getProvider({service:"oauth",success:function(e){~e.provider.indexOf("weixin")?t.login({provider:"weixin",success:function(t){n.$http.get("wxapp.login",{code:t.code}).then((function(t){n.session_key=t.session_key,n.openid=t.openid}))},fail:function(){n.$utils.toast("加载微信登录失败")}}):t.showToast({title:"请先安装微信或升级版本",icon:"none"})}})},getUserInfo:function(){var n=this;"mp-weixin"==this.$utils.getPlatform()?t.getUserProfile({desc:"用于完善会员资料",lang:"zh_CN",success:function(t){n.auth(t)}}):this.$utils.toast("该平台不支持微信登录")},auth:function(n){var e=this;if(!this.openid||!this.session_key)return this.$utils.toast("加载中，请稍后重试"),!1;t.checkSession({success:function(i){var o={data:n.encryptedData,iv:n.iv,sessionKey:e.session_key,openid:e.openid};e.$http.get("wxapp.auth",o).then((function(n){t.hideLoading(),0==n.error&&(n.member?(e.$store.commit("login",n),t.showToast({title:"微信登录成功",icon:"none"}),setTimeout((function(){e.$Router.back()}),300)):(t.setStorageSync("wx_info",n),e.$Router.push({path:"/pages/login/bidding"})))}))},fail:function(t){e.$utils.toast("登录态已过期,请重新点击授权"),e.threeLogin()}})},submit:function(){var t=this;this.$http.get("account.login",{mobile:this.mobile,pwd:this.pwd,verifycode:this.verifycode}).then((function(n){t.$store.commit("login",n),t.$utils.toast("登录成功"),setTimeout((function(){t.$Router.back()}),500)}))}})};n.default=c}).call(this,e("543d")["default"])}},[["7d0f","common/runtime","common/vendor"]]]);