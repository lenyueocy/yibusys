(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"1d49":function(t,i,e){"use strict";var n=e("355a"),a=e.n(n);a.a},"355a":function(t,i,e){var n=e("5cd7");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("3f5d0921",n,!0,{sourceMap:!1,shadowMode:!1})},"4ba7":function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return n}));var n={tuiButton:e("7133").default,tuiListCell:e("d016").default,tuiIcon:e("5d29").default,tuiBottomPopup:e("0f10").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"tui-status-bar"}),t.is_wxLogin?[e("v-uni-view",{staticStyle:{"margin-top":"60%",padding:"0 10%"}},[e("tui-button",{attrs:{type:"green",shadow:!0,shape:"circle"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getUserInfo.apply(void 0,arguments)}}},[t._v("微信授权登录")]),e("v-uni-view",{staticClass:"tui-mobile-cell-text tui-opcity",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.is_wxLogin=!1}}},[t._v("手机号验证注册/登录")])],1)]:[e("v-uni-view",{staticClass:"tui-page-title"},[t._v("登录")]),e("v-uni-view",{staticClass:"tui-form"},[e("v-uni-view",{staticClass:"tui-view-input"},[e("tui-list-cell",{attrs:{hover:!1,lineLeft:!1,backgroundColor:"transparent"}},[e("v-uni-view",{staticClass:"tui-cell-input"},[e("tui-icon",{attrs:{name:"mobile",color:"#6d7a87",size:20}}),e("v-uni-input",{attrs:{"adjust-position":!1,value:t.mobile,placeholder:"请输入手机号","placeholder-class":"tui-phcolor",type:"number",maxlength:"11"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.inputMobile.apply(void 0,arguments)}}}),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.mobile,expression:"mobile"}],staticClass:"tui-icon-close",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clearInput(1)}}},[e("tui-icon",{attrs:{name:"close-fill",size:16,color:"#bfbfbf"}})],1)],1)],1),e("tui-list-cell",{attrs:{hover:!1,lineLeft:!1,backgroundColor:"transparent"}},[e("v-uni-view",{staticClass:"tui-cell-input"},[e("tui-icon",{attrs:{name:"pwd",color:"#6d7a87",size:20}}),e("v-uni-input",{attrs:{"adjust-position":!1,value:t.pwd,placeholder:"请输入密码",password:!0,"placeholder-class":"tui-phcolor",type:"text",maxlength:"36"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.inputPwd.apply(void 0,arguments)}}}),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.pwd,expression:"pwd"}],staticClass:"tui-icon-close",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clearInput(2)}}},[e("tui-icon",{attrs:{name:"close-fill",size:16,color:"#bfbfbf"}})],1)],1)],1)],1),e("v-uni-view",{staticClass:"tui-cell-text"},[e("v-uni-view",{staticClass:"tui-color-primary",attrs:{"hover-class":"tui-opcity","hover-stay-time":150},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$Router.push({name:"login_forget"})}}},[t._v("忘记密码？")]),e("v-uni-view",{attrs:{"hover-class":"tui-opcity","hover-stay-time":150}},[t._v("没有账号？"),e("v-uni-text",{staticClass:"tui-color-primary",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$Router.push({name:"login_register"})}}},[t._v("注册")])],1)],1),e("v-uni-view",{staticClass:"tui-btn-box"},[e("tui-button",{attrs:{disabledGray:!0,disabled:t.disabled,shadow:!0,shape:"circle"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submit.apply(void 0,arguments)}}},[t._v("登录")])],1)],1),t.popupShow?t._e():e("v-uni-view",{staticClass:"tui-login-way"},[e("v-uni-view",{attrs:{"hover-class":"tui-opcity","hover-stay-time":150},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showOtherLogin.apply(void 0,arguments)}}},[t._v("其他方式登录")])],1),e("tui-bottom-popup",{attrs:{mask:!1,backgroundColor:"transparent",show:t.popupShow}},[e("v-uni-view",{staticClass:"tui-auth-login"},[e("v-uni-view",{staticClass:"tui-icon-platform",attrs:{"hover-class":"tui-opcity","hover-stay-time":150},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.is_wxLogin=!0}}},[e("v-uni-image",{staticClass:"tui-login-logo",attrs:{src:"/static/images/share/icon_wechat.png"}})],1)],1)],1)]],2)},o=[]},"4fe5":function(t,i,e){"use strict";e.r(i);var n=e("eb25"),a=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);i["default"]=a.a},"5cd7":function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */\n/* 文章场景相关 */.container .tui-status-bar[data-v-1711fdaa]{width:100%;height:0}.container .tui-header[data-v-1711fdaa]{width:100%;padding:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;box-sizing:border-box}.container .tui-page-title[data-v-1711fdaa]{width:100%;font-size:%?48?%;font-weight:700;line-height:%?42?%;padding:%?40?%;box-sizing:border-box}.container .tui-form[data-v-1711fdaa]{padding-top:%?50?%}.container .tui-form .tui-view-input[data-v-1711fdaa]{width:100%;box-sizing:border-box;padding:0 %?40?%}.container .tui-form .tui-view-input .tui-cell-input[data-v-1711fdaa]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-top:%?48?%;padding-bottom:%?16?%}.container .tui-form .tui-view-input .tui-cell-input uni-input[data-v-1711fdaa]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-left:%?20?%}.container .tui-form .tui-view-input .tui-cell-input .tui-icon-close[data-v-1711fdaa]{margin-left:auto}.container .tui-form .tui-cell-text[data-v-1711fdaa]{width:100%;padding:%?24?% %?30?%;box-sizing:border-box;font-size:%?24?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.container .tui-form .tui-btn-box[data-v-1711fdaa]{width:100%;padding:0 %?30?%;box-sizing:border-box;margin-top:%?80?%}.container .tui-login-way[data-v-1711fdaa]{width:100%;font-size:%?26?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;position:fixed;left:0;bottom:%?80?%}.container .tui-login-way uni-view[data-v-1711fdaa]{padding:%?12?% 0}.container .tui-auth-login[data-v-1711fdaa]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-bottom:%?80?%;padding-top:%?20?%}.container .tui-auth-login .tui-icon-platform[data-v-1711fdaa]{width:%?90?%;height:%?90?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;margin-left:%?40?%}.container .tui-auth-login .tui-icon-platform[data-v-1711fdaa]::after{content:"";position:absolute;width:200%;height:200%;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scale(.5) translateZ(0);transform:scale(.5) translateZ(0);box-sizing:border-box;left:0;top:0;border-radius:%?180?%;border:%?1?% solid grey}.container .tui-auth-login .tui-login-logo[data-v-1711fdaa]{width:%?60?%;height:%?60?%}.container .tui-mobile-cell-text[data-v-1711fdaa]{font-size:%?28?%;margin-top:%?50?%;text-align:center}',""]),t.exports=i},"7d0b":function(t,i,e){"use strict";e.r(i);var n=e("4ba7"),a=e("4fe5");for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);e("1d49");var s,u=e("f0c5"),c=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"1711fdaa",null,!1,n["a"],s);i["default"]=c.exports},eb25:function(t,i,e){"use strict";var n=e("4ea4");e("c975"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n(e("5530")),o=e("2f62"),s={computed:{disabled:function(){var t=!0;return this.mobile&&this.pwd&&(t=!1),t}},data:function(){return{mobile:"",pwd:"",is_wxLogin:!0,popupShow:!1}},onLoad:function(t){this.threeLogin()},onShow:function(){this.$store.getters.hasLogin&&this.$Router.back()},methods:(0,a.default)((0,a.default)({},(0,o.mapMutations)(["login","logout"])),{},{back:function(){uni.navigateBack()},inputMobile:function(t){this.mobile=t.detail.value},inputPwd:function(t){this.pwd=t.detail.value},clearInput:function(t){1==t?this.mobile="":this.pwd=""},showOtherLogin:function(){this.popupShow=!0},threeLogin:function(){var t=this;uni.getProvider({service:"oauth",success:function(i){~i.provider.indexOf("weixin")?uni.login({provider:"weixin",success:function(i){t.$http.get("wxapp.login",{code:i.code}).then((function(i){t.session_key=i.session_key,t.openid=i.openid}))},fail:function(){t.$utils.toast("加载微信登录失败")}}):uni.showToast({title:"请先安装微信或升级版本",icon:"none"})}})},getUserInfo:function(){var t=this;"mp-weixin"==this.$utils.getPlatform()?uni.getUserProfile({desc:"用于完善会员资料",lang:"zh_CN",success:function(i){t.auth(i)}}):this.$utils.toast("该平台不支持微信登录")},auth:function(t){var i=this;if(!this.openid||!this.session_key)return this.$utils.toast("加载中，请稍后重试"),!1;uni.checkSession({success:function(e){var n={data:t.encryptedData,iv:t.iv,sessionKey:i.session_key,openid:i.openid};i.$http.get("wxapp.auth",n).then((function(t){uni.hideLoading(),0==t.error&&(t.member?(i.$store.commit("login",t),uni.showToast({title:"微信登录成功",icon:"none"}),setTimeout((function(){i.$Router.back()}),300)):(uni.setStorageSync("wx_info",t),i.$Router.push({path:"/pages/login/bidding"})))}))},fail:function(t){i.$utils.toast("登录态已过期,请重新点击授权"),i.threeLogin()}})},submit:function(){var t=this;this.$http.get("account.login",{mobile:this.mobile,pwd:this.pwd,verifycode:this.verifycode}).then((function(i){t.$store.commit("login",i),t.$utils.toast("登录成功"),setTimeout((function(){t.$Router.back()}),500)}))}})};i.default=s}}]);