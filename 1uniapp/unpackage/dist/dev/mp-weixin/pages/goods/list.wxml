<view class="container"><view class="tui-header-box"><view class="tui-header" style="{{'width:'+(width+'px')+';'+('height:'+(height+'px')+';')}}"><view data-event-opts="{{[['tap',[['back',['$event']]]]]}}" class="tui-back" style="{{'margin-top:'+(arrowTop+'px')+';'}}" bindtap="__e"><tui-icon vue-id="36971996-1" name="arrowleft" color="#000" bind:__l="__l"></tui-icon></view><view data-event-opts="{{[['tap',[['search',['$event']]]]]}}" class="tui-searchbox tui-search-mr" style="{{'margin-top:'+(inputTop+'px')+';'}}" bindtap="__e"><icon type="search" size="{{13}}" color="#999"></icon><block wx:if="{{!filters.keyword}}"><text class="tui-search-text">搜索</text></block><block wx:if="{{filters.keyword}}"><view class="tui-search-key"><view class="tui-key-text">{{filters.keyword}}</view><tui-icon vue-id="36971996-2" name="shut" size="{{12}}" color="#fff" data-event-opts="{{[['^click',[['searchClose']]]]}}" bind:click="__e" bind:__l="__l"></tui-icon></view></block></view></view></view><view class="tui-header-screen" style="{{'top:'+(height+'px')+';'}}"><view class="tui-screen-top"><view class="{{['tui-top-item tui-icon-ml',tabIndex==0?'tui-active tui-bold':'']}}" data-index="0" data-event-opts="{{[['tap',[['screen',['$event']]]]]}}" bindtap="__e"><view>{{selectedName}}</view><tui-icon vue-id="36971996-3" name="{{selectH>0?'arrowup':'arrowdown'}}" size="{{14}}" color="{{tabIndex==0?'#e41f19':'#444'}}" bind:__l="__l"></tui-icon></view><view class="{{['tui-top-item',tabIndex==1?'tui-active tui-bold':'']}}" data-index="1" data-event-opts="{{[['tap',[['screen',['$event']]]]]}}" bindtap="__e">销量</view><view class="tui-top-item" data-index="2" data-event-opts="{{[['tap',[['screen',['$event']]]]]}}" bindtap="__e"><tui-icon vue-id="36971996-4" name="{{isList?'manage':'listview'}}" size="{{isList?22:18}}" bold="{{isList?false:true}}" color="#333" bind:__l="__l"></tui-icon></view><view class="tui-top-item tui-icon-ml" data-index="3" data-event-opts="{{[['tap',[['screen',['$event']]]]]}}" bindtap="__e"><text>筛选</text><tui-icon vue-id="36971996-5" name="screen" size="{{12}}" color="#333" bold="{{true}}" bind:__l="__l"></tui-icon></view><view class="{{['tui-dropdownlist',selectH>0?'tui-dropdownlist-show':'']}}" style="{{'height:'+(selectH+'rpx')+';'}}"><block wx:for="{{dropdownList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['tui-dropdownlist-item tui-icon-middle',item.selected?'tui-bold':'',item.selected?'tui-active':'']}}" data-index="{{index}}" data-event-opts="{{[['tap',[['dropdownItem',['$event']]]]]}}" catchtap="__e"><text class="tui-ml tui-middle">{{item.name}}</text><block wx:if="{{item.selected}}"><tui-icon vue-id="{{'36971996-6-'+index}}" name="check" size="{{16}}" color="#e41f19" bold="{{true}}" bind:__l="__l"></tui-icon></block></view></block></view><view data-event-opts="{{[['tap',[['hideDropdownList',['$event']]]]]}}" class="{{['tui-dropdownlist-mask',selectH>0?'tui-mask-show':'']}}" catchtap="__e"></view></view><view class="tui-screen-bottom"><block wx:for="{{attrArr}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block><view class="{{['tui-bottom-item tui-icon-ml',item.isActive?'tui-btmItem-active':'',attrIndex==index?'tui-btmItem-tap':'']}}" data-index="{{index}}" data-event-opts="{{[['tap',[['btnDropChange',['$event']]]]]}}" bindtap="__e"><view class="{{['tui-bottom-text',attrIndex==index?'tui-active':'']}}">{{item.isActive?item.selectedName:item.name}}</view><block wx:if="{{item.list.length>0}}"><tui-icon vue-id="{{'36971996-7-'+index}}" name="{{attrIndex==index?'arrowup':'arrowdown'}}" size="{{14}}" color="{{attrIndex==index||item.isActive?'#e41f19':'#444'}}" bind:__l="__l"></tui-icon></block></view></block></block></view></view><mescroll-body class="vue-ref" bind:init="__e" bind:down="__e" bind:up="__e" vue-id="36971996-8" data-ref="mescrollRef" data-event-opts="{{[['^init',[['mescrollInit']]],['^down',[['downCallback']]],['^up',[['upCallback']]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="{{['tui-product-list',!isList?'padding-lr-sm':'padding-lr-sm']}}" style="{{'margin-top:'+($root.m0)+';'}}"><view class="tui-product-container"><block wx:for="{{goodsList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{(index+1)%2!=0||isList}}"><block><view class="{{['tui-pro-item',isList?'tui-flex-list':'',!isList?'border-radius-list':'']}}" hover-class="hover" hover-start-time="{{150}}" data-event-opts="{{[['tap',[['navTo',['/pages/goods/detail',['o',['id',item.id]]]]]]]}}" bindtap="__e"><view style="position:relative;"><image class="{{['tui-pro-img',isList?'tui-proimg-list':'']}}" src="{{item.thumb}}" mode="widthFix"></image></view><view class="tui-pro-content"><view class="tui-pro-tit">{{item.title}}</view><view><view class="tui-pro-price "><text class="tui-sale-price text-price">{{item.minprice}}</text><text class="tui-factory-price">{{item.sales+"人付款"}}</text></view></view></view></view></block></block></block></view><block wx:if="{{!isList}}"><view class="tui-product-container"><block wx:for="{{goodsList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{(index+1)%2==0}}"><block><view class="{{['tui-pro-item',isList?'tui-flex-list':'',!isList?'border-radius-list':'']}}" hover-class="hover" hover-start-time="{{150}}" data-event-opts="{{[['tap',[['navTo',['/pages/goods/detail',['o',['id',item.id]]]]]]]}}" bindtap="__e"><image class="{{['tui-pro-img',isList?'tui-proimg-list':'']}}" src="{{item.thumb}}" mode="widthFix"></image><view class="tui-pro-content"><view class="tui-pro-tit">{{item.title}}</view><view><view class="tui-pro-price"><text class="tui-sale-price text-price">{{item.minprice}}</text><text class="tui-factory-price">{{item.sales+"人付款"}}</text></view></view></view></view></block></block></block></view></block></view></mescroll-body><tui-top-dropdown vue-id="36971996-9" backgroundColor="#f7f7f7" show="{{dropScreenShow}}" paddingbtm="{{110}}" translatey="{{dropScreenH}}" data-event-opts="{{[['^close',[['btnCloseDrop']]]]}}" bind:close="__e" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view class="tui-scroll-box" scroll-y="{{true}}" scroll-top="{{scrollTop}}"><view class="tui-seizeaseat-20"></view><block wx:for="{{attrData}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{['tui-drop-item tui-icon-middle',item.selected?'tui-bold':'']}}" data-index="{{index}}" data-event-opts="{{[['tap',[['btnSelected',['$event']]]]]}}" catchtap="__e"><block wx:if="{{item.selected}}"><tui-icon vue-id="{{('36971996-10-'+index)+','+('36971996-9')}}" name="check" size="{{16}}" color="#e41f19" bold="{{true}}" bind:__l="__l"></tui-icon></block><text class="tui-ml tui-middle">{{item.name}}</text></view></block><view class="tui-seizeaseat-30"></view></scroll-view><view class="tui-drop-btnbox"><view class="tui-drop-btn tui-btn-white" hover-class="tui-white-hover" hover-stay-time="{{150}}" data-event-opts="{{[['tap',[['reset',['$event']]]]]}}" bindtap="__e">重置</view><view class="tui-drop-btn tui-btn-red" hover-class="tui-red-hover" hover-stay-time="{{150}}" data-event-opts="{{[['tap',[['btnSure',['$event']]]]]}}" bindtap="__e">确定</view></view></tui-top-dropdown><tui-drawer vue-id="36971996-11" mode="right" visible="{{drawer}}" data-event-opts="{{[['^close',[['closeDrawer']]]]}}" bind:close="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="tui-drawer-box" style="{{'padding-top:'+(height+'px')+';'}}"><scroll-view class="tui-drawer-scroll" style="{{'height:'+(drawerH+'px')+';'}}" scroll-y="{{true}}"><view class="tui-drawer-title"><text class="tui-title-bold">价格区间</text></view><view class="tui-drawer-content"><input class="tui-input" placeholder-class="tui-phcolor" placeholder="最低价" maxlength="11" type="number" data-event-opts="{{[['input',[['__set_model',['$0','minprice','$event',[]],['filters']]]]]}}" value="{{filters.minprice}}" bindinput="__e"/><tui-icon vue-id="{{('36971996-12')+','+('36971996-11')}}" name="reduce" color="#333" size="{{14}}" bind:__l="__l"></tui-icon><input class="tui-input" placeholder-class="tui-phcolor" placeholder="最高价" maxlength="11" type="number" data-event-opts="{{[['input',[['__set_model',['$0','maxprice','$event',[]],['filters']]]]]}}" value="{{filters.maxprice}}" bindinput="__e"/></view><view class="tui-drawer-title"><text class="tui-title-bold">全部分类</text><view class="tui-all-box tui-icon-ml"><view class="tui-attr-right">全部</view><tui-icon vue-id="{{('36971996-13')+','+('36971996-11')}}" name="arrowdown" size="{{14}}" color="#444" bind:__l="__l"></tui-icon></view></view><view class="tui-drawer-content tui-flex-attr"><block wx:for="{{categoryList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({item})}}" class="{{['tui-attr-item',filters.cate==item.id?'tui-btmItem-active':'']}}" bindtap="__e"><view class="tui-attr-ellipsis">{{item.name}}</view></view></block></view><view class="tui-safearea-bottom"></view></scroll-view><view class="tui-attr-btnbox"><view class="tui-attr-safearea"><view class="tui-drawer-btn tui-drawerbtn-black" hover-class="tui-white-hover" hover-stay-time="{{150}}" data-event-opts="{{[['tap',[['resetFilters',['$event']]]]]}}" bindtap="__e">重置</view><view class="tui-drawer-btn tui-drawerbtn-primary" hover-class="tui-red-hover" hover-stay-time="{{150}}" data-event-opts="{{[['tap',[['submitFilters',['$event']]]]]}}" bindtap="__e">确定</view></view></view></view></tui-drawer></view>